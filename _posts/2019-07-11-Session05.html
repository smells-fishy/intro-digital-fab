---
layout: post
title:  "05: Programmable Electronics"
permalink: /05/
---

<p class="collapsible">Lab (July 15)</p>

<div>

<p>For my programmable electronics assignment, I made a circuit that causes a yellow LED to fade over a period of 10 seconds when a button is pressed.</p>
<p>This was accomplished using an Arduino board and a protoboard. First, I planned my circuit. Shown below is a Fritzing-made schematic for the circuit.</p>

<img src="circuit051.jpg" alt="Circuit diagram" style="height: 300px; width: auto; display:block;">

<p>The circuit is designed around a button with a 10k ohm pull-up resistor to avoid shorting out the Arduino board. The signal is sent to digital pin 2 and then processed by an on-board program, which results in the LED being powered and lit up.</p>
<p>I assembled the circuit using all black wires (mistake...) and using a protoboard to facilitate connections. I initially ran into issues with the button value randomly reading "pressed" when in reality it was not pressed, but this was resolved rapidly by replacing the component.</p>
<p>However, I also wired the circuit improperly. I accidentally wired the button straight to digital pin 2 (instead of the 5V) with no external resistor, which caused the circuit to malfunction when pin 2 was set to INPUT, but not when the pin was set to OUTPUT. After finding out about this, I took apart the circuit and rebuilt it properly, with properly colored wires. Below, you can find a video of the circuit working and an image.</p>

<img src="circuit.jpg" alt="Circuit" style="height: 300px; width: auto; display: block">
<video height="400px" controls>
	<source src="CIRCUIT.MOV" type="video/mp4">
</video>

<p>The code for the program is critical to the function of the circuit. The code uses an if/else statement to test for the button's status and a for loop to fade the LED in a step-wise fashion. Below is an image of the code.</p>

<img src="code.png" alt="The program" style="height: 300px; width: auto; display: block">

<p>The setup function initializes the pins that will be utilized by the program. For this program, I will be using pins 2 and 3. Pins 0 and 1 should generally be avoided, because they are used for other board purposes and therefore may cause interference.</p>
<p>In the main loop function, you can see the initialization of the "buttonState" variable, which stores the single-byte state of the button (HIGH for pressed and LOW for deactivated). If the button is pressed (buttonState == HIGH), then the for loop will execute. The for loop causes the LED to fade using analogWrite at successively lower values.</p>
<p>The program also has debug functions to read the voltage in the button loop of the circuit through analog input pin A0. The serial monitor came in handy when initially troubleshooting the circuit and ensuring that the issues were with the circuit, not the program.</p>
<p>During this lab, I've learned to be more organized and careful during the process of circuit building. Even though I had a plan, my execution was mistake-riddled and led me down a long road of troubleshooting. Having red, yellow, and black wires to distinguish between 5V, signal, and ground is very helpful when building circuits and especially so during troubleshooting.</p>
<p>You can download the program for the circuit <a href=buttonblink.ino download>here.</a></p>
